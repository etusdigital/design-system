@reference "../../assets/main.css";

/* Base button styles */
.btn {
	/* Layout */
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: var(--spacing-xs);

	/* Typography */
	font-weight: var(--font-weight-semibold);
	font-size: var(--font-size-base);
	line-height: var(--line-height-xs);
	letter-spacing: var(--letter-spacing-wider);
	text-transform: capitalize;
	user-select: none;

	/* Styling */
	border-radius: var(--border-radius-lg);
	border-width: var(--border-width-xxs);
	position: relative;

	/* Transitions */
	transition-property: color, background-color, border-color, outline-color,
		text-decoration-color, fill, stroke, opacity, box-shadow, transform;
	transition-duration: var(--transition-base);
	transition-timing-function: ease-in-out;

	/* Interactions */
	cursor: pointer;
}

/* Active state */
.btn:active:not(:disabled) {
	transform: scale(0.95);
}

/* Ensure span inherits button text properties */
.btn span {
	font-size: inherit;
	line-height: inherit;
}

/* Button content wrapper */
.btn-content {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: var(--spacing-xs);
	font-size: inherit;
	line-height: inherit;
}

/* Size variants using CSS custom properties */
.btn-sm {
	font-size: var(--font-size-sm);
	line-height: var(--line-height-xs);
	padding: var(--spacing-xs) var(--spacing-base);
}

.btn-md {
	font-size: var(--font-size-base);
	line-height: var(--line-height-xs);
	padding: var(--spacing-sm) var(--spacing-base);
}

.btn-lg {
	font-size: var(--font-size-lg);
	line-height: var(--line-height-xs);
	padding: var(--spacing-base) var(--spacing-xl);
}

/* Primary button - using CSS variables for theming */
.btn-primary {
	--btn-bg: var(--color-primary-interaction-default);
	--btn-bg-hover: var(--color-primary-interaction-hover);
	--btn-bg-active: var(--color-primary-interaction-pressed);
	--btn-border: var(--color-primary-interaction-default);
	--btn-border-hover: var(--color-primary-interaction-hover);
	--btn-border-active: var(--color-primary-interaction-pressed);
	--btn-text: var(--color-neutral-foreground-negative);
	--btn-focus-ring: var(--color-primary-interaction-default);
	--btn-progress-bg: var(--color-primary-surface-highlight);

	background-color: var(--btn-bg);
	border-color: var(--btn-border);
	color: var(--btn-text);
}

.btn-primary:hover:not(:disabled) {
	background-color: var(--btn-bg-hover);
	border-color: var(--btn-border-hover);
}

.btn-primary:active:not(:disabled) {
	background-color: var(--btn-bg-active);
	border-color: var(--btn-border-active);
}

.btn-primary:focus-visible {
	outline: 2px solid var(--btn-focus-ring);
	outline-offset: 2px;
}

.btn-primary:disabled {
	background-color: var(--color-neutral-surface-disabled);
	border-color: var(--color-neutral-border-disabled);
	color: var(--color-neutral-interaction-disabled);
	pointer-events: none;
}

/* Secondary button - using CSS variables for theming */
.btn-secondary {
	background-color: transparent;
	border-color: currentColor;
}

.btn-secondary:focus-visible {
	outline: 2px solid currentColor;
	outline-offset: 2px;
}

/* Color modifiers for buttons using data attributes or CSS variables */
.btn-secondary.btn-primary-color,
.btn-ghost.btn-primary-color {
	--btn-color: var(--color-primary-interaction-default);
	--btn-color-hover: var(--color-primary-interaction-hover);
	--btn-color-active: var(--color-primary-interaction-pressed);
	--btn-bg-hover: var(--color-primary-surface-hover);
	--btn-bg-active: var(--color-primary-surface-pressed);
	--btn-border-hover: var(--color-primary-border-hover);
	--btn-border-active: var(--color-primary-border-pressed);
	color: var(--btn-color);
}

.btn-secondary.btn-info-color,
.btn-ghost.btn-info-color {
	--btn-color: var(--color-informative-interaction-default);
	--btn-color-hover: var(--color-informative-interaction-hover);
	--btn-color-active: var(--color-informative-interaction-pressed);
	--btn-bg-hover: var(--color-informative-surface-hover);
	--btn-bg-active: var(--color-informative-surface-pressed);
	--btn-border-hover: var(--color-informative-border-hover);
	--btn-border-active: var(--color-informative-border-pressed);
	color: var(--btn-color);
}

.btn-secondary.btn-success-color,
.btn-ghost.btn-success-color {
	--btn-color: var(--color-success-interaction-default);
	--btn-color-hover: var(--color-success-interaction-hover);
	--btn-color-active: var(--color-success-interaction-pressed);
	--btn-bg-hover: var(--color-success-surface-hover);
	--btn-bg-active: var(--color-success-surface-pressed);
	--btn-border-hover: var(--color-success-border-hover);
	--btn-border-active: var(--color-success-border-pressed);
	color: var(--btn-color);
}

.btn-secondary.btn-warning-color,
.btn-ghost.btn-warning-color {
	--btn-color: var(--color-warning-interaction-default);
	--btn-color-hover: var(--color-warning-interaction-hover);
	--btn-color-active: var(--color-warning-interaction-pressed);
	--btn-bg-hover: var(--color-warning-surface-hover);
	--btn-bg-active: var(--color-warning-surface-pressed);
	--btn-border-hover: var(--color-warning-border-hover);
	--btn-border-active: var(--color-warning-border-pressed);
	color: var(--btn-color);
}

.btn-secondary.btn-danger-color,
.btn-ghost.btn-danger-color {
	--btn-color: var(--color-danger-interaction-default);
	--btn-color-hover: var(--color-danger-interaction-hover);
	--btn-color-active: var(--color-danger-interaction-pressed);
	--btn-bg-hover: var(--color-danger-surface-hover);
	--btn-bg-active: var(--color-danger-surface-pressed);
	--btn-border-hover: var(--color-danger-border-hover);
	--btn-border-active: var(--color-danger-border-pressed);
	color: var(--btn-color);
}

.btn-secondary.btn-neutral-color,
.btn-ghost.btn-neutral-color {
	--btn-color: var(--color-neutral-interaction-default);
	--btn-color-hover: var(--color-neutral-interaction-hover);
	--btn-color-active: var(--color-neutral-interaction-pressed);
	--btn-bg-hover: var(--color-neutral-surface-hover);
	--btn-bg-active: var(--color-neutral-surface-disabled);
	--btn-border-hover: var(--color-neutral-border-hover);
	--btn-border-active: var(--color-neutral-border-pressed);
	color: var(--btn-color);
}

/* Secondary button states */
.btn-secondary:hover:not(:disabled) {
	background-color: var(--btn-bg-hover);
	color: var(--btn-color-hover);
	border-color: var(--btn-border-hover);
}

.btn-secondary:active:not(:disabled) {
	background-color: var(--btn-bg-active);
	color: var(--btn-color-active);
	border-color: var(--btn-border-active);
}

.btn-secondary:disabled {
	color: var(--color-neutral-interaction-disabled);
	background-color: var(--color-neutral-surface-disabled);
	border-color: var(--color-neutral-border-disabled);
	pointer-events: none;
}

/* Ghost button (no border) */
.btn-ghost {
	background-color: transparent;
	border-color: transparent;
}

.btn-ghost:hover:not(:disabled) {
	background-color: var(--btn-bg-hover);
	color: var(--btn-color-hover);
}

.btn-ghost:active:not(:disabled) {
	background-color: var(--btn-bg-active);
	color: var(--btn-color-active);
}

.btn-ghost:focus-visible {
	outline: 2px solid currentColor;
	outline-offset: 2px;
}

.btn-ghost:disabled {
	color: var(--color-neutral-interaction-disabled);
	pointer-events: none;
}

/* Loading state */
.btn-loading {
	pointer-events: none;
}

.btn-loading .btn-content {
	visibility: hidden;
}

/* Progress bar for buttons */
.btn-progress {
	position: absolute;
	overflow: hidden;
	top: 0;
	left: 0;
	bottom: 0;
	border-radius: var(--border-radius-sm) 0 0 var(--border-radius-sm);
	transition: width var(--transition-slow) ease-out;
	opacity: 0.6;
	background-color: var(--btn-progress-bg, rgba(255, 255, 255, 0.3));
}

.btn-progress.rounded-r {
	border-radius: var(--border-radius-sm);
}

/* Spinner positioning */
.btn .b-spinner {
	position: absolute;
}

/* Spinner sizes using CSS variables */
.btn-sm .b-spinner {
	font-size: var(--font-size-xs);
}

.btn-md .b-spinner {
	font-size: var(--font-size-sm);
}

.btn-lg .b-spinner {
	font-size: var(--font-size-base);
}

/* Color variants for primary buttons - using CSS custom properties */
.btn-primary.btn-info-color {
	--btn-bg: var(--color-informative-interaction-default);
	--btn-bg-hover: var(--color-informative-interaction-hover);
	--btn-bg-active: var(--color-informative-interaction-pressed);
	--btn-border: var(--color-informative-interaction-default);
	--btn-border-hover: var(--color-informative-interaction-hover);
	--btn-border-active: var(--color-informative-interaction-pressed);
	--btn-focus-ring: var(--color-informative-interaction-default);
	--btn-progress-bg: var(--color-informative-surface-highlight);
}

.btn-primary.btn-success-color {
	--btn-bg: var(--color-success-interaction-default);
	--btn-bg-hover: var(--color-success-interaction-hover);
	--btn-bg-active: var(--color-success-interaction-pressed);
	--btn-border: var(--color-success-interaction-default);
	--btn-border-hover: var(--color-success-interaction-hover);
	--btn-border-active: var(--color-success-interaction-pressed);
	--btn-focus-ring: var(--color-success-interaction-default);
	--btn-progress-bg: var(--color-success-surface-highlight);
}

.btn-primary.btn-warning-color {
	--btn-bg: var(--color-warning-interaction-default);
	--btn-bg-hover: var(--color-warning-interaction-hover);
	--btn-bg-active: var(--color-warning-interaction-pressed);
	--btn-border: var(--color-warning-interaction-default);
	--btn-border-hover: var(--color-warning-interaction-hover);
	--btn-border-active: var(--color-warning-interaction-pressed);
	--btn-focus-ring: var(--color-warning-interaction-default);
	--btn-progress-bg: var(--color-warning-surface-highlight);
}

.btn-primary.btn-danger-color {
	--btn-bg: var(--color-danger-interaction-default);
	--btn-bg-hover: var(--color-danger-interaction-hover);
	--btn-bg-active: var(--color-danger-interaction-pressed);
	--btn-border: var(--color-danger-interaction-default);
	--btn-border-hover: var(--color-danger-interaction-hover);
	--btn-border-active: var(--color-danger-interaction-pressed);
	--btn-focus-ring: var(--color-danger-interaction-default);
	--btn-progress-bg: var(--color-danger-surface-highlight);
}

.btn-primary.btn-neutral-color {
	--btn-bg: var(--color-neutral-interaction-default);
	--btn-bg-hover: var(--color-neutral-interaction-hover);
	--btn-bg-active: var(--color-neutral-interaction-pressed);
	--btn-border: var(--color-neutral-interaction-default);
	--btn-border-hover: var(--color-neutral-interaction-hover);
	--btn-border-active: var(--color-neutral-interaction-pressed);
	--btn-focus-ring: var(--color-neutral-interaction-default);
	--btn-progress-bg: var(--color-neutral-surface-highlight);
}
