import{d as I,m as B,w as N,a as C,v as K,b as d,e as b,u as t,r as D,o as y,j as f,l as O,x as j,k as S,t as w,f as A,F,g as G,h as H}from"./vue.esm-bundler-B3dae8Cn.js";import{u as M}from"./OptionalModel-8moGuuLP.js";import{S as R}from"./SelectContent-7yYIGyTY.js";import{O as z}from"./Option-BBYBztsW.js";import{i as v}from"./index-BQ4pCYp0.js";const J=I({__name:"BSelect",props:{modelValue:{default:void 0},labelValue:{default:""},items:{},icon:{},expanded:{type:Boolean,default:void 0},labelKey:{default:"label"},valueKey:{default:"value"},searchable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},isError:{type:Boolean,default:!1},errorMessage:{default:""},infoMessage:{default:""},absolute:{type:Boolean,default:!0},secondary:{type:Boolean,default:!1}},emits:["update:modelValue","update:expanded"],setup($,{emit:E}){const l=$,g=E,[r,V]=M(l,"modelValue",g,null),[o,p]=M(l,"expanded",g,!1);let u=B(null),i=B("");N(()=>l.modelValue,e=>{if(!e)u.value=null;else{const a=l.items.findIndex(n=>n==e);u.value=a<0?null:a}r.value=l.modelValue});function h(e){return v(e)?e[l.labelKey]:e}function m(e){return v(e)?e[l.valueKey]:e}function q(e,a){l.disabled||(V(e,{index:a}),u.value=a,p(!1,{source:"value-selected"}))}function L(e){function a(n){V(l.items[n],{index:n}),e.preventDefault()}switch(e.key){case"ArrowUp":{if(u.value==0)break;const n=u.value===null?l.items.length-1:u.value-1;a(n)}break;case"ArrowDown":{if(u.value==l.items.length-1)break;const n=u.value===null?0:u.value+1;a(n)}break;case"Home":a(0);break;case"End":{const n=l.items.length-1;a(n)}break}}function T(e){return!e||!l.searchable?l.items:l.items.filter(a=>{if(v(a)){if(a[l.labelKey].toLowerCase().includes(e.toLowerCase()))return a}else if(a.toLowerCase().includes(e.toLowerCase()))return a})}function k(e,a){l.searchable&&(a==null?void 0:a.source)=="click"?p(!0,a):p(e,a)}return(e,a)=>{const n=D("BSelectContainer");return y(),C(n,{modelValue:t(o),"onUpdate:modelValue":[a[2]||(a[2]=s=>b(o)?o.value=s:null),k],"label-value":e.labelValue,absolute:e.absolute,class:"b-select",disabled:e.disabled,required:e.required,"is-error":e.isError,"error-message":e.errorMessage,"info-message":e.infoMessage,secondary:e.secondary,"aria-multiselectable":"false",onKeyup:L},K({items:d(()=>[(y(!0),A(F,null,G(T(t(i)),(s,c)=>(y(),C(z,{"aria-selected":m(t(r))==m(s),key:c,secondary:e.secondary,disabled:s.disabled,selected:m(t(r))==m(s),onClick:U=>q(s,c),onKeyup:H(U=>q(s,c),["space"])},{default:d(()=>[f(e.$slots,"item",{item:s,index:c},()=>[S(w(h(s)),1)])]),_:2},1032,["aria-selected","secondary","disabled","selected","onClick","onKeyup"]))),128))]),default:d(()=>[O(R,{modelValue:t(i),"onUpdate:modelValue":a[0]||(a[0]=s=>b(i)?i.value=s:i=s),expanded:t(o),"onUpdate:expanded":[a[1]||(a[1]=s=>b(o)?o.value=s:null),k],disabled:e.disabled,icon:e.icon,secondary:e.secondary,items:e.items,searchable:e.searchable},K({status:d(()=>[t(r)&&(!t(o)&&e.searchable||!e.searchable)?f(e.$slots,"status",{key:0,item:t(r)},()=>[S(w(h(t(r))),1)]):!t(o)&&e.searchable||!e.searchable?f(e.$slots,"default",{key:1}):j("",!0)]),_:2},[e.$slots.searchText?{name:"searchText",fn:d(()=>[f(e.$slots,"searchText")]),key:"0"}:void 0]),1032,["modelValue","expanded","disabled","icon","secondary","items","searchable"])]),_:2},[e.$slots.actions?{name:"actions",fn:d(()=>[f(e.$slots,"actions")]),key:"0"}:void 0]),1032,["modelValue","label-value","absolute","disabled","required","is-error","error-message","info-message","secondary"])}}});J.__docgenInfo={exportName:"default",displayName:"BSelect",description:"",tags:{},props:[{name:"modelValue",required:!1,type:{name:"any"},defaultValue:{func:!1,value:"undefined"}},{name:"labelValue",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"items",required:!0,type:{name:"Array",elements:[{name:"any"}]}},{name:"icon",required:!1,type:{name:"string"}},{name:"expanded",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"undefined"}},{name:"labelKey",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'"label"'}},{name:"valueKey",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'"value"'}},{name:"searchable",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"disabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"required",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isError",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"errorMessage",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"infoMessage",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"absolute",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"secondary",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"update:modelValue",type:{names:["any"]}},{name:"update:expanded",type:{names:["boolean"]}}],slots:[{name:"searchText"},{name:"status",scoped:!0,bindings:[{name:"item",title:"binding"}]},{name:"default"},{name:"item",scoped:!0,bindings:[{name:"item",title:"binding"},{name:"index",title:"binding"}]},{name:"actions"}],sourceFiles:["/Users/albertoandre/Dropbox/aa-projects/Github/design-system/src/components/BSelect/BSelect.vue"]};export{J as _};
