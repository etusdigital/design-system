import{d as j,m as z,c as E,f as i,F as p,g as x,r as w,o as s,a as d,x as I,u as N,l as H,b as v,k as M,t as O,T as F,G as S,n as A,H as D}from"./vue.esm-bundler-B3dae8Cn.js";import{u as G}from"./OptionalModel-8moGuuLP.js";import{O as R}from"./Option-BBYBztsW.js";import{i as h}from"./index-BQ4pCYp0.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const W={class:"b-breadcrumb"},J=["onClick"],P=["onClick"],T=j({__name:"BBreadcrumb",props:{modelValue:{default:void 0},items:{default:void 0},labelKey:{default:"label"},valueKey:{default:"value"},getObject:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(q,{emit:K}){const c=q,g=K,[y]=G(c,"modelValue",g,void 0),u=z([]),_=E(()=>{var r;if(!((r=c.items)!=null&&r.length))return[];const e=[...c.items];let a=e.findIndex(t=>B(t));a===-1&&(a=0);const l=[];for(let t=0;t<e.length;t++)t===0||t===e.length-1||a===0&&t<2||a===e.length-1&&t>=e.length-2||a-1===t||a+1===t||a===t?l.push(e[t]):t===1&&a>1?l.push({icon:"more_horiz",items:e.slice(1,a-1)}):t===e.length-2&&a<e.length-2&&l.push({icon:"more_horiz",items:e.slice(a+2,e.length-1)});return l});function b(e){const a=c.getObject?e:m(e);u.value=u.value.map(()=>!1),setTimeout(()=>{y.value=a,g("update:modelValue",a)},200)}function k(e){return h(e)?e[c.labelKey]:e}function m(e){return h(e)?e[c.valueKey]:e}function B(e){const a=m(e);return m(y.value)==a}async function L(e,a){if(u.value[a]=!u.value[a],!u.value[a])return;const r=e.target.getBoundingClientRect(),t=window.innerHeight;await D();const o=document.querySelector(`.more-options[index="${a}"]`);if(!o)return;o.style.left=`${r.left}px`,r.bottom+o.offsetHeight>t?o.style.bottom=`${t-r.top}px`:o.style.top=`${r.bottom}px`;const n=f=>{const $=Math.abs(o.offsetHeight-o.scrollHeight)>3,V=f.type=="wheel",C=o.contains(f.target);($?V&&!C:V||!C)&&(u.value[a]=!1,document.removeEventListener("click",n),document.removeEventListener("wheel",n))};setTimeout(()=>{document.addEventListener("click",n),document.addEventListener("wheel",n)},200)}return(e,a)=>{const l=w("BIcon"),r=w("b-card");return s(),i("div",W,[(s(!0),i(p,null,x(_.value,(t,o)=>(s(),i(p,{key:t},[N(h)(t)&&t.icon=="more_horiz"?(s(),i("div",{key:0,onClick:n=>L(n,o)},[H(l,{name:"more_horiz",class:"cursor-pointer"}),(s(),d(S,{to:"body"},[H(F,{name:"fade"},{default:v(()=>[u.value[o]?(s(),d(r,{key:0,class:"more-options",index:o},{default:v(()=>[(s(!0),i(p,null,x(t.items,n=>(s(),d(R,{key:n,onClick:f=>b(n)},{default:v(()=>[M(O(k(n)),1)]),_:2},1032,["onClick"]))),128))]),_:2},1032,["index"])):I("",!0)]),_:2},1024)]))],8,J)):(s(),i("h5",{key:1,class:A(["item",{active:B(t)}]),onClick:n=>b(t)},O(k(t)),11,P)),o<_.value.length-1?(s(),d(l,{key:2,name:"chevron_right"})):I("",!0)],64))),128))])}}}),ae=U(T,[["__scopeId","data-v-83158e9d"]]);T.__docgenInfo={exportName:"default",displayName:"BBreadcrumb",description:"",tags:{},props:[{name:"modelValue",required:!0,type:{name:"any"},defaultValue:{func:!1,value:"undefined"}},{name:"items",required:!1,type:{name:"Array",elements:[{name:"any"}]},defaultValue:{func:!1,value:"undefined"}},{name:"labelKey",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'"label"'}},{name:"valueKey",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'"value"'}},{name:"getObject",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"update:modelValue",type:{names:["any"]}}],sourceFiles:["/Users/albertoandre/Dropbox/aa-projects/Github/design-system/src/components/BBreadcrumb/BBreadcrumb.vue"]};export{ae as B};
