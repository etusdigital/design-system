import{d as G,C as K,m as i,w as X,f as d,x as p,q as f,l as I,t as c,u as y,y as z,F as O,g as H,N as J,h as V,M as Q,n as W,j as Y,r as M,o as u,a as Z,b as q}from"./vue.esm-bundler-B3dae8Cn.js";import{l as ee,m as ae,n as le,o as se,s as te}from"./index-BQ4pCYp0.js";import{B as ne}from"./Label-jj1xFjf_.js";import{_ as ue}from"./_plugin-vue_export-helper-DlAUqK2U.js";const oe={key:0,class:"flex flex-row justify-between items-center mb-xxs"},re={key:0,class:"text-neutral-foreground-low font-bold text-xs"},ie={class:"max-w-full"},de={class:"whitespace-normal break-all"},fe=["disabled","placeholder"],me={key:1},pe={class:"p3 text-neutral-foreground-low"},ce={key:0,class:"error-default"},D=G({__name:"BTagInput",props:{modelValue:{default:void 0},labelValue:{default:""},errorMessage:{default:""},infoMessage:{default:""},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},allowDuplicate:{type:Boolean,default:!1},max:{default:void 0},isError:{type:Boolean,default:!1},placeholder:{default:""},mask:{default:void 0}},emits:["update:modelValue"],setup(A,{emit:_}){const l=A,k=_;K(()=>{x()});let t=i([]);const m=i(!1),o=i(""),n=i(!1),v=i(""),h=i(null),g={DUPLICATE:"Duplicated values are not allowed",INVALID_INPUT:"Please provide a valid input",MAX_VALUES:"Max number of values reached"};X(()=>l.modelValue,()=>{x()});function N(){var a;const e=(a=h.value)==null?void 0:a.querySelector("#input-default");m.value=!0,e&&e.focus()}function x(){t.value=l.modelValue||[]}function B(e){if(!n.value&&!te(e)){if(L(e)){const a=e.split(/,|\n/).map(r=>r.trim());a.length>0&&a.forEach(r=>{w(r)||t.value.push(r),T()})}else w(e)||(t.value.push(e),T());k("update:modelValue",t.value)}}function w(e){return n.value=!1,!l.allowDuplicate&&U(e)?(b(g.DUPLICATE),!0):e.trim().length===0?(b(g.INVALID_INPUT),!0):l.max!==void 0&&l.max>0&&t.value.length>l.max-1?(b(g.MAX_VALUES),!0):!1}function C(){setTimeout(()=>{n.value=!1},2e3)}function U(e){return t.value.includes(e)}function L(e){return e.includes(",")||e.includes(`
`)}function b(e){v.value=e,n.value=!0,C()}function T(){v.value="",o.value="",n.value=!1}function E(e){o.value.length||(t.value.splice(e,1),k("update:modelValue",t.value))}function F(e){n.value=!ae(e)}function S(e){n.value=!le(e)}function $(e){n.value=!se(e)}function P(e){let a=e.target.value;a=ee(a,l.mask),l.mask=="email"?F(a):l.mask=="domain"?S(a):l.mask=="url"&&$(a)}return(e,a)=>{const r=M("BTag"),j=M("BTooltip");return u(),d("div",{ref_key:"tagInput",ref:h},[e.labelValue?(u(),d("div",oe,[I(ne,{"label-value":e.labelValue,"info-message":e.infoMessage,required:e.required},null,8,["label-value","info-message","required"]),e.max!==void 0&&e.max>0?(u(),d("label",re,c(y(t).length)+" / "+c(e.max),1)):p("",!0)])):p("",!0),f("div",{class:W(["b-tag-input",{active:m.value&&!e.disabled,error:n.value||e.isError,disabled:e.disabled}]),tabindex:"0",onFocus:N,onBlur:a[6]||(a[6]=s=>m.value=!1)},[(u(!0),d(O,null,H(y(t),(s,R)=>(u(),Z(j,{key:s,position:"bottom",class:"max-w-full"},{text:q(()=>[f("div",ie,[f("span",de,c(s),1)])]),default:q(()=>[I(r,{color:"neutral",class:"tag-padding max-w-full",text:s,closeable:"",onClose:ve=>E(R)},null,8,["text","onClose"])]),_:2},1024))),128)),z(f("textarea",{rows:"1","onUpdate:modelValue":a[0]||(a[0]=s=>o.value=s),id:"input-default",class:"input-default",disabled:e.disabled,placeholder:e.placeholder,onInput:P,onFocusout:a[1]||(a[1]=s=>m.value=!1),onFocus:a[2]||(a[2]=s=>m.value=!0),onKeydown:[a[3]||(a[3]=V(s=>{s.preventDefault(),B(o.value)},["enter"])),a[4]||(a[4]=V(Q(s=>B(o.value),["prevent"]),["tab"])),a[5]||(a[5]=V(s=>E(y(t).length-1),["backspace"]))]},null,40,fe),[[J,o.value]])],34),e.$slots["info-text"]?(u(),d("div",me,[f("label",pe,[Y(e.$slots,"info-text",{},void 0,!0)])])):p("",!0),f("div",null,[l.isError||n.value?(u(),d("label",ce,c(l.errorMessage||v.value),1)):p("",!0)])],512)}}}),ke=ue(D,[["__scopeId","data-v-686c2170"]]);D.__docgenInfo={exportName:"default",displayName:"BTagInput",description:"",tags:{},props:[{name:"modelValue",required:!0,type:{name:"Array",elements:[{name:"any"}]},defaultValue:{func:!1,value:"undefined"}},{name:"labelValue",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"errorMessage",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"infoMessage",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"disabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"required",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"allowDuplicate",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"max",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"undefined"}},{name:"isError",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"placeholder",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"mask",required:!1,type:{name:"union",elements:[{name:'"cpf"'},{name:'"cnpj"'},{name:'"cep"'},{name:'"domain"'},{name:'"url"'},{name:'"email"'}]},defaultValue:{func:!1,value:"undefined"}}],events:[{name:"update:modelValue",type:{names:["Array"],elements:[{name:"any"}]}}],slots:[{name:"info-text"}],sourceFiles:["/Users/albertoandre/Dropbox/aa-projects/Github/design-system/src/components/BTagInput/BTagInput.vue"]};export{ke as B};
