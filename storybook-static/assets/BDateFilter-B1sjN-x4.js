import{d as U,m as b,p as z,w as _,a as h,b as i,e as k,u as s,r as g,o as V,q as d,n as C,l as x,f as I,j as B,t as E,k as D,F as $,g as j}from"./vue.esm-bundler-B3dae8Cn.js";import{d as L}from"./index-BQ4pCYp0.js";import{O as T}from"./Option-BBYBztsW.js";const G={key:0},R={class:"flex flex-col items-center divide-y-xxs divide-neutral-default overflow-x-hidden"},H={class:"flex flex-col w-full p-xs"},J={class:"flex items-center justify-end gap-xs w-full"},K=U({__name:"BDateFilter",props:{modelValue:{},labelValue:{default:""},lang:{default:"en-US"},maxInit:{},maxEnd:{},disabled:{type:Boolean,default:!1},isError:{type:Boolean,default:!1},errorMessage:{default:""},absolute:{type:Boolean,default:!0},required:{type:Boolean},options:{default:L}},emits:["update:modelValue","apply"],setup(w,{emit:O}){var q;const n=w;let u=b(!1),a=b(n.modelValue?n.modelValue:[]),o=b(n.options.length&&((q=n.options.find(e=>e.selected))==null?void 0:q.value)||""),r=b("");a.value.length&&(r.value=f(a.value[0])+(a.value[1]?" - "+f(a.value[1]):"")),z(()=>{if(o.value){let e=n.options.find(l=>l.value==o.value);a.value=e.calculate()}});const m=O;_(()=>n.modelValue,e=>a.value=e);function f(e){if(e)return e.toLocaleDateString(n.lang,{year:"numeric",month:"short",day:"2-digit"})}function A(e){const l=e.calculate();let p=l[0],c=l[1];n.maxInit&&n.maxInit.toISOString().substr(0,10)>=p.toISOString().substr(0,10)||n.maxEnd&&n.maxEnd.toISOString().substr(0,10)<=c.toISOString().substr(0,10)||(r.value="",a.value=[p,c],o.value=e.value,m("update:modelValue",a.value))}function F(){o.value="",r.value="",a.value=[],m("update:modelValue",a.value)}function M(){a.value?r.value=f(a.value[0])+(a.value[1]?" - "+f(a.value[1]):""):r.value="",o.value="",m("update:modelValue",a.value)}return(e,l)=>{const p=g("BIcon"),c=g("BDate"),S=g("BButton"),N=g("BSelectContainer");return V(),h(N,{modelValue:s(u),"onUpdate:modelValue":l[2]||(l[2]=t=>k(u)?u.value=t:u=t),"label-value":e.labelValue,required:e.required,class:"b-select","aria-multiselectable":"false","dont-have-max-height":"",absolute:e.absolute,disabled:e.disabled,"is-error":e.isError,"error-message":e.errorMessage,"hide-arrow":"",onClick:()=>{}},{items:i(()=>[d("div",R,[x(c,{modelValue:s(a),"onUpdate:modelValue":[l[0]||(l[0]=t=>k(a)?a.value=t:a=t),M],lang:e.lang,"is-period":"","max-init":e.maxInit,"max-end":e.maxEnd},null,8,["modelValue","lang","max-init","max-end"]),d("div",H,[(V(!0),I($,null,j(e.options,(t,v)=>(V(),h(T,{key:v,class:"px-xs py-sm",selected:s(o)===t.value,disabled:t.disabled,onClick:y=>A(t)},{default:i(()=>[D(E(t.label),1)]),_:2},1032,["selected","disabled","onClick"]))),128))])])]),actions:i(()=>[d("div",J,[B(e.$slots,"actions",{},()=>[x(S,{size:"small",variant:"plain",onClick:F},{default:i(()=>[B(e.$slots,"clear-text",{},()=>[l[3]||(l[3]=D(" Clear "))])]),_:3}),x(S,{size:"small",onClick:l[1]||(l[1]=t=>m("apply",s(a)))},{default:i(()=>[B(e.$slots,"apply-text",{},()=>[l[4]||(l[4]=D(" Apply "))])]),_:3})])])]),default:i(()=>{var t,v;return[d("div",{class:C(["flex items-center text-lg h-xl text-neutral-interaction-default",{"text-primary-interaction-default":s(u)}])},[x(p,{name:"calendar_month",size:"lg"})],2),d("h5",{class:C(["whitespace-nowrap",{"font-bold":s(u)}])},[s(r)||(t=e.options.find(y=>y.value==s(o)))!=null&&t.label?(V(),I("span",G,E(s(r)||((v=e.options.find(y=>y.value==s(o)))==null?void 0:v.label)),1)):B(e.$slots,"default",{key:1})],2)]}),_:3},8,["modelValue","label-value","required","absolute","disabled","is-error","error-message"])}}});K.__docgenInfo={exportName:"default",displayName:"BDateFilter",description:"",tags:{},props:[{name:"modelValue",required:!1,type:{name:"union",elements:[{name:"Array",elements:[{name:"any"}]},{name:"Array",elements:[{name:"Date"}]}]}},{name:"labelValue",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"lang",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'"en-US"'}},{name:"maxInit",required:!1,type:{name:"Date"}},{name:"maxEnd",required:!1,type:{name:"Date"}},{name:"disabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isError",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"errorMessage",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"absolute",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"required",required:!1,type:{name:"boolean"}},{name:"options",required:!1,type:{name:"union",elements:[{name:"Array",elements:[{name:"OptionType"}]},{name:"any"}]},defaultValue:{func:!1,value:"dateOptions"}}],events:[{name:"update:modelValue",type:{names:["union"],elements:[{name:"Array",elements:[{name:"Date"}]},{name:"Array",elements:[{name:"any"}]}]}},{name:"apply",type:{names:["union"],elements:[{name:"Array",elements:[{name:"Date"}]},{name:"Array",elements:[{name:"any"}]}]}}],slots:[{name:"default"},{name:"actions"},{name:"clear-text"},{name:"apply-text"}],sourceFiles:["/Users/albertoandre/Dropbox/aa-projects/Github/design-system/src/components/BDateFilter/BDateFilter.vue"]};export{K as _};
