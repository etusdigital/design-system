import{d as E,f as m,x as V,o as d,n as B,q as D,t as z,a as G,T as j,b as k,r as X,z as ie,g as A,j as ue,F as M,m as w,c as N,w as R,l as x,u as de,e as me}from"./vue.esm-bundler-B3dae8Cn.js";import{t as W,u as J,v as K,w as fe}from"./index-BQ4pCYp0.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as pe}from"./OptionalModel-8moGuuLP.js";const ce={key:0,class:"flex absolute w-full h-full"},ve={class:"relative z-1"},Z=E({__name:"Day",props:{modelValue:{},hovered:{},day:{},isCompare:{type:Boolean,default:!1},maxInit:{},maxEnd:{},index:{default:0},size:{default:1},position:{default:"middle"}},emits:["update:modelValue","update:hovered","select"],setup(_,{emit:v}){const n=_,b=v;function f(a,s=0,u=!1){var g;if(!n.modelValue||s>0&&(n.size==1||!n.isCompare))return!1;let p=c(s);return(p==null?void 0:p.length)>1?W(p[0],p[1],a,u):u&&((g=p[0])==null?void 0:g.toISOString().substr(0,10))===(a==null?void 0:a.toISOString().substr(0,10))}function $(a,s=0){if(!n.hovered||!n.modelValue||s>0&&!n.isCompare&&n.size==1||n.size==1&&!n.isCompare)return!1;let u=c(s);return u.length===1&&W(u[0],n.hovered,a)}function C(a,s=0){var r,S,y;if(!n.modelValue||!n.isCompare&&n.size==1)return!1;let u=c(s);const p=a==null?void 0:a.toISOString().substr(0,10);let g=(r=n.hovered)==null?void 0:r.toISOString().substr(0,10),O=(S=u[0])==null?void 0:S.toISOString().substr(0,10);if(u.length>1&&(g=(y=u[1])==null?void 0:y.toISOString().substr(0,10)),!(O!=p&&p!=g)){if(g==p&&(g=O),!g||!p)return!1;if(p<g)return"is-bigger";if(p>g)return"is-smaller"}}function I(a){return n.maxInit?a.toISOString().substr(0,10)<=n.maxInit.toISOString().substr(0,10):n.maxEnd?a.toISOString().substr(0,10)>=n.maxEnd.toISOString().substr(0,10):!1}function c(a=0){if(!n.modelValue)return[];let s=n.modelValue;return n.isCompare&&n.size>1&&(s=n.modelValue[a]),s}return(a,s)=>a.day?(d(),m("div",{key:0,class:B(["day",[{"range-primary":f(a.day),"range-secondary":f(a.day,1),"selected-primary":f(a.day,0,!0),"selected-secondary":f(a.day,1,!0),disabled:I(a.day),"hovered-primary":$(a.day),"hovered-secondary":$(a.day,1),"is-compare":a.isCompare||a.size>1},C(a.day),C(a.day,1),a.position]]),onMouseover:s[0]||(s[0]=u=>b("update:hovered",a.day)),onMouseleave:s[1]||(s[1]=u=>b("update:hovered",null)),onClick:s[2]||(s[2]=u=>b("select",a.day))},[(a.hovered==a.day&&c(0).length>1||f(a.day,1,!0))&&f(a.day,0,!0)&&(c(1).length<2||f(a.day,1,!0))&&a.size>1&&a.isCompare?(d(),m("div",ce,[s[3]||(s[3]=D("div",{class:"half-day bg-primary-interaction-default"},null,-1)),D("div",{class:B(["half-day",f(a.day,1,!0)?"bg-primary-interaction-selected":"bg-primary-surface-hover"])},null,2)])):V("",!0),D("span",ve,z(a.day.getDate()),1)],34)):V("",!0)}}),ge=U(Z,[["__scopeId","data-v-bf893b2f"]]);Z.__docgenInfo={exportName:"default",displayName:"Day",description:"",tags:{},props:[{name:"modelValue",required:!0,type:{name:"union",elements:[{name:"Array",elements:[{name:"any"}]},{name:"Array",elements:[{name:"Array",elements:[{name:"any"}]}]}]}},{name:"hovered",required:!1,type:{name:"Date"}},{name:"day",required:!1,type:{name:"union",elements:[{name:"Date"},{name:"undefined"}]}},{name:"isCompare",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"maxInit",required:!1,type:{name:"Date"}},{name:"maxEnd",required:!1,type:{name:"Date"}},{name:"index",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"size",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"1"}},{name:"position",required:!1,type:{name:"union",elements:[{name:'"start"'},{name:'"middle"'},{name:'"end"'}]},defaultValue:{func:!1,value:'"middle"'}}],events:[{name:"update:modelValue",type:{names:["Array"],elements:[{name:"Date"}]}},{name:"update:hovered",type:{names:["union"],elements:[{name:"Date"},{name:"null"}]}},{name:"select",type:{names:["Date"]}}],sourceFiles:["/Users/albertoandre/Dropbox/aa-projects/Github/design-system/src/utils/components/Day.vue"]};const ee=E({__name:"DateDialog",props:{show:{type:Boolean,default:!1},items:{},vertical:{type:Boolean,default:!1},width:{default:"90%"},maxHeight:{default:"none"},noPadding:{type:Boolean,default:!1}},setup(_){return(v,n)=>{const b=X("BCard");return d(),G(j,{name:"appear"},{default:k(()=>[v.show?(d(),G(b,{key:0,class:B(["absolute z-1 transition-transform top-[20%] left-[50%] -translate-x-1/2 flex items-center justify-center",{"overflow-auto":v.maxHeight!="none","flex-wrap":!v.vertical,"flex-col":v.vertical,"p-sm gap-xs":!v.noPadding}]),style:ie({"max-height":v.maxHeight,width:v.width})},{default:k(()=>[(d(!0),m(M,null,A(v.items,f=>ue(v.$slots,"item",{item:f},void 0,!0)),256))]),_:3},8,["class","style"])):V("",!0)]),_:3})}}}),Q=U(ee,[["__scopeId","data-v-1102da5d"]]);ee.__docgenInfo={exportName:"default",displayName:"DateDialog",description:"",tags:{},props:[{name:"show",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"items",required:!0,type:{name:"Array",elements:[{name:"any"}]}},{name:"vertical",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"width",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'"90%"'}},{name:"maxHeight",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'"none"'}},{name:"noPadding",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],slots:[{name:"item",scoped:!0,bindings:[{name:"item",title:"binding"}]}],sourceFiles:["/Users/albertoandre/Dropbox/aa-projects/Github/design-system/src/utils/components/DateDialog.vue"]};const ye={class:"b-calendar flex relative w-fit"},he={class:"relative flex items-center justify-center gap-xs mb-xs"},De=["onClick"],be={key:0},Ce={class:"*:p-xxs"},we=["onClick"],xe=["onClick"],ae=E({__name:"Calendar",props:{modelValue:{},initialDates:{},lang:{default:"en-US"},isCompare:{type:Boolean,default:!1},maxInit:{},maxEnd:{}},emits:["update:modelValue"],setup(_,{emit:v}){const n=_,b=v,[f,$]=pe(n,"modelValue",b,n.isCompare&&n.initialDates.length!=1?[[],[]]:[]),C=w(!0),I=w(!0),c=w(!1),a=w(!1),s=w(),u=w(0),p=N(()=>{const t=new Date("2021-10-03T23:15:30"),e=[];for(let l=0;l<7;l++){const o=t.toLocaleDateString(n.lang,{weekday:"long"}),i=o.charAt(0).toUpperCase()+o.charAt(1).toLowerCase();e.push(i),t.setDate(t.getDate()+1)}return e}),g=N(()=>fe(n.lang)),O=N(()=>{const t=[],e=n.initialDates[n.initialDates.length-1].date;for(let l=e.getFullYear()+56;l>=e.getFullYear()-62;l--)t.push(l);return t}),r=w(n.initialDates.map(t=>S(t.date,t.value)));R(()=>n.lang,()=>{y(0,!1)}),R(()=>n.initialDates,()=>{r.value=n.initialDates.map(t=>S(t.date,t.value)),y()});function S(t,e=1){return{title:L(t),weeks:J(t),value:e,date:t}}function y(t,e=!0){r.value.forEach(l=>{t&&l.date.setMonth(l.date.getMonth()+t),e&&(l.weeks=J(l.date)),l.title=L(l.date)})}function te(t){let e=f.value;if(n.isCompare&&r.value.length!=1){(!e[0]||e[1].length>1)&&(e=[[],[]]);let l=0;e[0].length>1&&(l=1),e[l]=Y(t,e[l])}else e=Y(t,e);$(e,{})}function Y(t,e){return e.length>1||!e.length||r.value.length==1&&!n.isCompare?(e=[],e[0]=t):t<e[0]?(e[1]=e[0],e[0]=t):e[1]=t,e}function ne(t){c.value=!1;const e=u.value,l=r.value[e].date,o=r.value[e==r.value.length-1?0:e+1].date,i=r.value[e].value;l.setMonth(t),r.value.length>1&&o.setMonth(l.getMonth()+i),y()}function le(t){a.value=!1,c.value=!1;const e=u.value,l=r.value[e].date,o=r.value[e==r.value.length-1?0:e+1].date;let i=r.value[e].value;!(l.getMonth()==1&&i==1)&&!(l.getMonth()==11&&i==-1)&&(i=0),l.setFullYear(t),r.value.length>1&&o.setFullYear(t+i),y()}function se(t){u.value=t,c.value&&!a.value?a.value=!0:(c.value=!c.value,a.value=!1),y()}function L(t){return a.value||c.value?K(t.toLocaleDateString(n.lang,{year:"numeric"})):K(t.toLocaleDateString(n.lang,{year:"numeric",month:"long"}))}function re(t,e){const l=e.filter(i=>i),o=l.findIndex(i=>i==t);return t==l[0]?"start":o==l.length-1?"end":"middle"}function P(t){I.value=t===-1,C.value=!1,y(t),setTimeout(()=>{C.value=!0},100)}function oe(){setTimeout(()=>{c.value=!1,a.value=!1,y()},100)}return(t,e)=>{const l=X("BIcon");return d(),m("div",ye,[(d(!0),m(M,null,A(r.value,(o,i)=>(d(),m("div",{key:i,class:"w-fit p-sm overflow-hidden"},[D("header",he,[i==0?(d(),m("div",{key:0,class:"calendar-arrow left-0",onClick:e[0]||(e[0]=h=>P(-1))},[x(l,{name:"chevron_left"})])):V("",!0),x(j,{name:I.value?"slide-fade-out":"slide-fade"},{default:k(()=>[C.value?(d(),m("h1",{key:0,class:"text-base font-bold cursor-pointer text-neutral-foreground-high",tabindex:"0",onBlur:oe,onClick:h=>se(i)},z(o.title),41,De)):V("",!0)]),_:2},1032,["name"]),r.value.length-1==i?(d(),m("div",{key:1,class:"calendar-arrow right-0",onClick:e[1]||(e[1]=h=>P(1))},[x(l,{name:"chevron_right"})])):V("",!0)]),D("main",null,[x(j,{name:I.value?"slide-fade-out":"slide-fade"},{default:k(()=>[C.value?(d(),m("table",be,[D("thead",null,[D("tr",Ce,[(d(!0),m(M,null,A(p.value,(h,q)=>(d(),m("th",{key:q},z(h),1))),128))])]),(d(!0),m(M,null,A(o.weeks.filter(h=>h.some(q=>q)),(h,q)=>(d(),m("tr",{key:q,class:"*:py-xxs *:px-none"},[(d(!0),m(M,null,A(h,(T,H)=>(d(),m("td",{key:H},[x(ge,{modelValue:de(f),"onUpdate:modelValue":e[2]||(e[2]=F=>me(f)?f.value=F:null),hovered:s.value,"onUpdate:hovered":e[3]||(e[3]=F=>s.value=F),day:T,"is-compare":t.isCompare,size:r.value.length,index:H,position:re(T,h),"max-init":t.maxInit,"max-end":t.maxEnd,onSelect:te},null,8,["modelValue","hovered","day","is-compare","size","index","position","max-init","max-end"])]))),128))]))),128))])):V("",!0)]),_:2},1032,["name"])])]))),128)),x(Q,{show:c.value&&!a.value,items:g.value,wrap:""},{item:k(({item:o})=>[D("div",{class:B([[o.value===r.value[u.value].date.getMonth()?"bg-primary-interaction-default":"bg-primary-surface-highlight"],"flex items-center justify-center flex-1 cursor-pointer min-w-[30%] text-neutral-foreground-negative text-sm p-sm border-xxs rounded-base hover:bg-primary-interaction-hover"]),onClick:i=>ne(o.value)},z(o.label),11,we)]),_:1},8,["show","items"]),x(Q,{show:a.value,items:O.value,vertical:"","max-height":"70%","no-padding":""},{item:k(({item:o})=>[D("div",{class:B(["flex items-center justify-center cursor-pointer w-full p-xxs text-sm hover:bg-primary-surface-default hover:text-primary-interaction-default",{"text-primary-interaction-default bg-primary-surface-default":o===r.value[u.value].date.getFullYear()}]),onClick:i=>le(o)},z(o),11,xe)]),_:1},8,["show","items"])])}}}),qe=U(ae,[["__scopeId","data-v-79788d4a"]]);ae.__docgenInfo={exportName:"default",displayName:"Calendar",description:"",tags:{},props:[{name:"modelValue",required:!0,type:{name:"union",elements:[{name:"Array",elements:[{name:"Date"}]},{name:"Array",elements:[{name:"Array",elements:[{name:"Date"}]}]}]}},{name:"initialDates",required:!0,type:{name:"Array",elements:[{name:"InitialItems"}]}},{name:"lang",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'"en-US"'}},{name:"isCompare",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"maxInit",required:!1,type:{name:"Date"}},{name:"maxEnd",required:!1,type:{name:"Date"}}],events:[{name:"update:modelValue",type:{names:["union"],elements:[{name:"Array",elements:[{name:"Date"}]},{name:"Array",elements:[{name:"Array",elements:[{name:"Date"}]}]}]}}],sourceFiles:["/Users/albertoandre/Dropbox/aa-projects/Github/design-system/src/utils/components/Calendar.vue"]};export{qe as C};
