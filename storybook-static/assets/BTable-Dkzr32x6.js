import{d as Z,Q as ee,m as y,c as P,p as te,w as E,f as l,q as i,x as r,n as I,l as q,F as v,g as B,j as g,b as ae,r as S,o as s,z as x,t as V,k as H}from"./vue.esm-bundler-B3dae8Cn.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";const le={class:"b-table-style"},se={key:0},oe=["disabled"],ie=["disabled"],re=["onClick"],ue={class:"truncate"},de={key:2,style:{flex:"1"},class:"bg-white pointer-events-none"},me={key:1},fe={key:2},ge={key:0,class:"skeleton-table-cell"},ce={key:1},pe={colspan:"100%"},ve={key:3},be={key:4},ye={key:0,class:"flex items-center justify-between mt-base text-neutral-foreground-low flex-wrap"},he={class:"flex items-center gap-xs"},Be={class:"text-sm"},ke={class:"text-sm"},G=Z({__name:"BTable",props:{headers:{},items:{},options:{},page:{default:1},itemsPerPage:{default:10},numberOfItems:{default:0},renderPaginationInBackEnd:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},isHeaderFixed:{type:Boolean,default:!1},enableSelection:{type:Boolean,default:!1},enableAggregation:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},noShadow:{type:Boolean,default:!1},hasHover:{type:Boolean,default:!1}},emits:["update:page","update:itemsPerPage","sortBy","pageItems","selectAll"],setup(K,{emit:Q}){var z;const n=K,h=Q,J=ee(),f=y(((z=n.options)==null?void 0:z.sortBy)||""),d=y(n.items||[]),k=y(X()),m=y(n.itemsPerPage||10),c=y(n.page||1),R=y([5,10,20,50,100]),T=y(!1),W=P(()=>{var e;return n.renderPaginationInBackEnd?Math.ceil(n.numberOfItems/m.value):Math.ceil(((e=n.items)==null?void 0:e.length)/m.value)}),F=P(()=>c.value===1?1:(c.value-1)*m.value+1),N=P(()=>(c.value-1)*m.value+d.value.length),L=P(()=>{var e;return n.renderPaginationInBackEnd?n.numberOfItems:((e=n.items)==null?void 0:e.length)||0}),O=P(()=>{let e=n.headers.length;return n.enableSelection&&e++,n.enableAggregation&&e++,J.actions&&e++,e});te(()=>{var e;n.renderPaginationInBackEnd||(f.value?A(f.value,(e=n.options)==null?void 0:e.sortDesc):$(n.page,n.itemsPerPage))}),E(()=>n.itemsPerPage,e=>{U(e,!1)}),E(()=>n.page,e=>{j(e,!1)}),E(()=>n.items,()=>{d.value=n.items,n.renderPaginationInBackEnd||A(f.value,k.value[f.value],!1)},{deep:!0,immediate:!0});function X(){const e={};return n.headers.forEach(a=>{var u;a.value==f.value?e[a.value]=!!((u=n.options)!=null&&u.sortDesc):e[a.value]=!1}),e}function j(e,a=!0){c.value=e,a&&h("update:page",e),$(e,m.value)}function U(e,a=!0){m.value=e||10,c.value=1,a&&h("update:itemsPerPage",e),h("update:page",1),A(f.value,k.value[f.value])}function A(e,a=!0,u=!0){var b;n.renderPaginationInBackEnd?u&&h("sortBy",e,a):(f.value=e,d.value=(b=n.items)==null?void 0:b.sort((w,_)=>{const t=w[e],o=_[e];if(typeof t=="string"&&typeof o=="string"){const p=t.toLowerCase(),C=o.toLowerCase();return a?p.localeCompare(C):C.localeCompare(p)}else{if(typeof t=="number"&&typeof o=="number")return a?t-o:o-t;if(t instanceof Date&&o instanceof Date)return a?t.getTime()-o.getTime():o.getTime()-t.getTime();{const p=String(t),C=String(o),D=p.toLowerCase(),M=C.toLowerCase();return a?D.localeCompare(M):M.localeCompare(D)}}})),$(c.value,m.value)}function $(e,a){var u;if(n.renderPaginationInBackEnd)h("pageItems",e,a);else{const b=(e-1)*a,w=b+a;d.value=(u=n.items)==null?void 0:u.slice(b,w)}}function Y(e){var a;h("selectAll",e),(a=n.items)==null||a.map(u=>u.selected=e),d.value=n.items}return(e,a)=>{const u=S("BCheckbox"),b=S("BIcon"),w=S("BSelect"),_=S("BPagination");return s(),l(v,null,[i("div",{class:I(["b-table",{"header-fixed-table":e.isHeaderFixed,"no-shadow":e.noShadow}])},[i("table",le,[e.loading?(s(),l("thead",me,[i("tr",null,[(s(!0),l(v,null,B(O.value||3,t=>(s(),l("th",{key:t,class:"skeleton-table-cell"},a[3]||(a[3]=[i("div",{class:"skeleton-table-div"},null,-1)])))),128))])])):(s(),l("thead",se,[i("tr",null,[e.enableAggregation?(s(),l("th",{key:0,disabled:!d.value.length,class:"first-th pointer-events-none",style:{width:"2%"}},null,8,oe)):r("",!0),e.enableSelection?(s(),l("th",{key:1,disabled:!d.value.length,class:I(["hover:bg-neutral-surface-default",{"first-th":!e.enableAggregation}]),style:{width:"2%"}},[q(u,{modelValue:T.value,"onUpdate:modelValue":[a[0]||(a[0]=t=>T.value=t),Y]},null,8,["modelValue"])],10,ie)):r("",!0),(s(!0),l(v,null,B(e.headers,(t,o)=>(s(),l("th",{key:o,class:I(["cursor-pointer",{"first-th":o===0&&!e.enableSelection&&!e.enableAggregation,"last-th":!e.headers[o+1]&&!e.$slots.actions,"pointer-events-none":!t.sortable}]),style:x({width:t.width?t.width:"fit-content"}),onClick:p=>A(t.value,k.value[t.value]=!k.value[t.value])},[i("div",{class:"flex w-full items-center gap-xs text-neutral-interaction-default",style:x({"justify-content":t.align?t.align:"flex-start"})},[i("p",ue,V(t.label),1),t.sortable?(s(),l("span",{key:0,class:I(["icon",{"rotate-180":k.value[t.value],"icon-active":t.value==f.value}])},[q(b,{name:"arrow_upward"})],2)):r("",!0)],4)],14,re))),128)),e.$slots.actions?(s(),l("th",de)):r("",!0)])])),e.loading||!d.value.length?(s(),l("tbody",fe,[e.loading?(s(),l(v,{key:0},B(10,t=>i("tr",{key:t},[(s(!0),l(v,null,B(O.value||3,o=>(s(),l("td",{key:o,class:"skeleton-table-cell"},a[4]||(a[4]=[i("div",{class:"skeleton-table-div"},null,-1)])))),128)),e.$slots.actions?(s(),l("td",ge,a[5]||(a[5]=[i("div",{class:"skeleton-table-div"},null,-1)]))):r("",!0)])),64)):d.value.length?r("",!0):(s(),l("tr",ce,[i("td",pe,[g(e.$slots,"empty-state",{},void 0,!0)])]))])):(s(),l("tbody",ve,[(s(!0),l(v,null,B(d.value,(t,o)=>(s(),l(v,{key:o},[i("tr",{class:I(["*:py-sm *:px-lg text-neutral-foreground-low",{"hover:bg-primary-surface-default":e.hasHover}])},[e.enableAggregation?g(e.$slots,"aggregation",{key:0,item:t,index:o},void 0,!0):r("",!0),e.enableSelection?g(e.$slots,"select",{key:1,item:t,index:o},void 0,!0):r("",!0),(s(!0),l(v,null,B(e.headers,p=>g(e.$slots,p.value,{key:p.value,item:t,index:o},void 0,!0)),128)),e.$slots.actions?g(e.$slots,"actions",{key:2,item:t,index:o},void 0,!0):r("",!0)],2),t.expanded?g(e.$slots,"childs",{key:0,item:t,index:o},void 0,!0):r("",!0)],64))),128))])),e.$slots.footer?(s(),l("tfoot",be,[g(e.$slots,"footer",{},void 0,!0)])):r("",!0)])],2),e.hideFooter?r("",!0):(s(),l("footer",ye,[i("div",he,[i("p",Be,[g(e.$slots,"items-per-page",{},()=>[a[6]||(a[6]=H(" Items per page "))],!0)]),q(w,{modelValue:m.value,"onUpdate:modelValue":[a[1]||(a[1]=t=>m.value=t),U],items:R.value,absolute:""},{default:ae(()=>[H(V(m.value),1)]),_:1},8,["modelValue","items"])]),q(_,{modelValue:c.value,"onUpdate:modelValue":[a[2]||(a[2]=t=>c.value=t),j],length:W.value},null,8,["modelValue","length"]),i("div",null,[i("p",ke,[g(e.$slots,"showing-page",{min:F.value,max:N.value,total:L.value},()=>[H(" Showing "+V(F.value)+"-"+V(N.value)+" of "+V(L.value),1)],!0)])])]))],64)}}}),Ie=ne(G,[["__scopeId","data-v-93ecbc98"]]);G.__docgenInfo={exportName:"default",displayName:"BTable",description:"",tags:{},props:[{name:"headers",required:!0,type:{name:"Array",elements:[{name:"Header"}]}},{name:"items",required:!0,type:{name:"Array",elements:[{name:"any"}]}},{name:"options",required:!1,type:{name:"Options"}},{name:"page",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"1"}},{name:"itemsPerPage",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"10"}},{name:"numberOfItems",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"renderPaginationInBackEnd",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"hideFooter",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isHeaderFixed",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"enableSelection",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"enableAggregation",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"loading",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"noShadow",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"hasHover",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"update:page",type:{names:["number"]}},{name:"update:itemsPerPage",type:{names:["number"]}},{name:"sortBy",type:{names:["string"]}},{name:"pageItems",type:{names:["number"]}},{name:"selectAll",type:{names:["boolean"]}}],slots:[{name:"empty-state"},{name:"aggregation",scoped:!0,bindings:[{name:"item",title:"binding"},{name:"index",title:"binding"}]},{name:"select",scoped:!0,bindings:[{name:"item",title:"binding"},{name:"index",title:"binding"}]},{name:"header.value",scoped:!0,bindings:[{name:"key",title:"binding"},{name:"name",title:"binding"},{name:"item",title:"binding"},{name:"index",title:"binding"}]},{name:"actions",scoped:!0,bindings:[{name:"item",title:"binding"},{name:"index",title:"binding"}]},{name:"childs",scoped:!0,bindings:[{name:"item",title:"binding"},{name:"index",title:"binding"}]},{name:"footer"},{name:"items-per-page"},{name:"showing-page",scoped:!0,bindings:[{name:"min",title:"binding"},{name:"max",title:"binding"},{name:"total",title:"binding"}]}],sourceFiles:["/Users/albertoandre/Dropbox/aa-projects/Github/design-system/src/components/BTable/BTable.vue"]};export{Ie as B};
