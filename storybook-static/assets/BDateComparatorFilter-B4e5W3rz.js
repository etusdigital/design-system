import{d as T,p as L,m as v,w as D,a as w,b as f,e as V,u as o,r as y,o as C,q as p,n as E,l as c,f as $,j as b,t as F,F as G,g as H,k as B}from"./vue.esm-bundler-B3dae8Cn.js";import{d as J}from"./index-BQ4pCYp0.js";import{O as K}from"./Option-BBYBztsW.js";const P={key:0},Q={class:"flex"},W={class:"flex flex-col justify-between border-r-xxs border-neutral-default w-fit truncate rounded-l-sm overflow-hidden p-xs"},X={class:"flex flex-col"},Y={class:"px-xs py-sm"},Z={class:"flex flex-col items-end gap-base relative overflow-hidden"},_={class:"flex items-center justify-end gap-xs w-full border-t-xxs border-neutral-default p-sm"},ee=T({__name:"BDateComparatorFilter",props:{modelValue:{},labelValue:{default:""},lang:{default:"en-US"},separator:{},isCompare:{type:Boolean,default:!1},maxInit:{},maxEnd:{},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},isError:{type:Boolean,default:!1},errorMessage:{default:""},absolute:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},alignRight:{type:Boolean,default:!1},options:{default:J}},emits:["update:modelValue","update:expanded","update:isCompare","apply"],setup(I,{emit:M}){var k;const n=I;L(()=>{if(r.value){let e=n.options.find(l=>l.value==r.value);q(e.calculate()),s.value=!1,u("update:isCompare",s.value)}else n.modelValue&&(n.modelValue&&Array.isArray(n.modelValue[0])&&!s.value?(s.value=!0,u("update:isCompare",!0)):s.value&&(s.value=!1,u("update:isCompare",!1)),A(!0))}),D(()=>n.modelValue,e=>{e&&Array.isArray(e[0])?s.value||(s.value=!0,u("update:isCompare",!0)):s.value&&(s.value=!1,u("update:isCompare",!1)),a.value=e}),D(()=>n.isCompare,()=>{var e;s.value=n.isCompare,s.value?r.value="":r.value=((e=n.options.find(l=>l.selected))==null?void 0:e.value)||""}),D(()=>n.expanded,()=>i.value=n.expanded);const u=M;let i=v(n.expanded),s=v(!1),r=v(n.options.length&&!n.isCompare&&((k=n.options.find(e=>e.selected))==null?void 0:k.value)||""),a=v(n.modelValue?n.modelValue:n.isCompare?[[],[]]:[]),d=v("");function m(e,l){return e.toLocaleDateString(n.lang,{year:"numeric",month:"short",day:"2-digit"})}function S(){return n.lang.includes("pt")?"e":"and"}function A(e=!1){a.value&&s.value?a.value[1].length>0?d.value=`${m(a.value[0][0])+(a.value[0][1]?" - "+m(a.value[0][1]):"")} ${n.separator||S()} ${m(a.value[1][0])+(a.value[1][1]?" - "+m(a.value[1][1]):"")}`:a.value[0].length>0?d.value=m(a.value[0][0])+(a.value[0][1]?" - "+m(a.value[0][1]):""):d.value="":a.value&&a.value.length>0?d.value=m(a.value[0])+(a.value[1]?" - "+m(a.value[1]):""):d.value="",e||u("update:modelValue",a.value)}function q(e){a.value=e,u("update:modelValue",a.value)}function U(e){s.value=!1,u("update:isCompare",!1),r.value=e.value,d.value="",setTimeout(()=>{q(e.calculate())},100)}function N(){q(void 0),r.value="",d.value=""}return(e,l)=>{const O=y("BIcon"),j=y("BCheckbox"),z=y("BDateComparator"),h=y("BButton"),R=y("BExpandableContainer");return C(),w(R,{modelValue:o(i),"onUpdate:modelValue":[l[5]||(l[5]=t=>V(i)?i.value=t:i=t),l[6]||(l[6]=t=>u("update:expanded",o(i)))],disabled:e.disabled,required:e.required,absolute:e.absolute,"label-value":e.labelValue,"is-error":e.isError,"error-message":e.errorMessage,"align-right":e.alignRight,"hide-arrow":""},{content:f(()=>[p("div",Q,[p("div",W,[p("div",X,[(C(!0),$(G,null,H(e.options,(t,g)=>(C(),w(K,{key:g,class:"px-xs py-sm",selected:o(r)==t.value,disabled:t.disabled,onClick:x=>U(t)},{default:f(()=>[B(F(t.label),1)]),_:2},1032,["selected","disabled","onClick"]))),128))]),p("div",Y,[c(j,{modelValue:o(s),"onUpdate:modelValue":[l[0]||(l[0]=t=>V(s)?s.value=t:s=t),l[1]||(l[1]=t=>{u("update:isCompare",t),V(r)?r.value="":r=""})]},{default:f(()=>[b(e.$slots,"compare-text",{},()=>[l[7]||(l[7]=B(" Compare two periods "))])]),_:3},8,["modelValue"])])]),p("div",Z,[c(z,{class:"px-sm pt-xxs",modelValue:o(a),"onUpdate:modelValue":[l[2]||(l[2]=t=>V(a)?a.value=t:a=t),l[3]||(l[3]=t=>A(!1))],lang:e.lang,"is-compare":o(s),"max-init":e.maxInit,"max-end":e.maxEnd},null,8,["modelValue","lang","is-compare","max-init","max-end"]),p("div",_,[b(e.$slots,"actions",{},()=>[c(h,{size:"small",variant:"plain",onClick:N},{default:f(()=>[b(e.$slots,"clear-text",{},()=>[l[8]||(l[8]=B(" Clear "))])]),_:3}),c(h,{size:"small",onClick:l[4]||(l[4]=t=>u("apply",o(a)))},{default:f(()=>[b(e.$slots,"apply-text",{},()=>[l[9]||(l[9]=B(" Apply "))])]),_:3})])])])])]),default:f(()=>{var t,g;return[p("div",{class:E(["flex items-center text-lg h-xl text-neutral-interaction-default",{"text-primary-interaction-default":o(i),"text-danger-interaction-default":e.isError}])},[c(O,{name:"calendar_month",size:"lg"})],2),p("h5",{class:E(["whitespace-nowrap",{"font-bold":o(i)}])},[o(d)||(t=e.options.find(x=>x.value==o(r)))!=null&&t.label?(C(),$("span",P,F(o(d)||((g=e.options.find(x=>x.value==o(r)))==null?void 0:g.label)),1)):b(e.$slots,"default",{key:1})],2)]}),_:3},8,["modelValue","disabled","required","absolute","label-value","is-error","error-message","align-right"])}}});ee.__docgenInfo={exportName:"default",displayName:"BDateComparatorFilter",description:"",tags:{},props:[{name:"modelValue",required:!1,type:{name:"union",elements:[{name:"Array",elements:[{name:"Date"}]},{name:"Array",elements:[{name:"Array",elements:[{name:"Date"}]}]}]}},{name:"labelValue",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"lang",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'"en-US"'}},{name:"separator",required:!1,type:{name:"string"}},{name:"isCompare",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"maxInit",required:!1,type:{name:"Date"}},{name:"maxEnd",required:!1,type:{name:"Date"}},{name:"disabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"required",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isError",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"errorMessage",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"absolute",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"expanded",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"alignRight",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"options",required:!1,type:{name:"union",elements:[{name:"Array",elements:[{name:"OptionType"}]},{name:"any"}]},defaultValue:{func:!1,value:"dateOptions"}}],events:[{name:"update:modelValue",type:{names:["union"],elements:[{name:"Array",elements:[{name:"Date"}]},{name:"Array",elements:[{name:"Array",elements:[{name:"Date"}]}]}]}},{name:"update:expanded",type:{names:["boolean"]}},{name:"update:isCompare",type:{names:["boolean"]}},{name:"apply",type:{names:["union"],elements:[{name:"Array",elements:[{name:"Date"}]},{name:"Array",elements:[{name:"Array",elements:[{name:"Date"}]}]}]}}],slots:[{name:"default"},{name:"compare-text"},{name:"actions"},{name:"clear-text"},{name:"apply-text"}],sourceFiles:["/Users/albertoandre/Dropbox/aa-projects/Github/design-system/src/components/BDateComparatorFilter/BDateComparatorFilter.vue"]};export{ee as _};
