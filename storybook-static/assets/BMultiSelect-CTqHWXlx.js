import{d as N,m as w,c as v,a as V,v as g,b as n,e as h,u as r,r as q,o as i,q as B,t as k,j as o,l as K,x as I,f as U,F as L,g as O,h as j,k as x}from"./vue.esm-bundler-B3dae8Cn.js";import{u as A}from"./OptionalModel-8moGuuLP.js";import{S as D}from"./SelectContent-7yYIGyTY.js";import{O as G}from"./Option-BBYBztsW.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"select-count"},S=N({__name:"BMultiSelect",props:{modelValue:{default:void 0},labelValue:{default:""},icon:{},expanded:{type:Boolean,default:void 0},labelKey:{default:"label"},selectedKey:{default:"selected"},searchable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},isError:{type:Boolean,default:!1},errorMessage:{default:""},infoMessage:{default:""},absolute:{type:Boolean,default:!0},labelFormatter:{}},emits:["update:modelValue","update:expanded"],setup(M,{emit:C}){const l=M,f=C,[t,m]=A(l,"expanded",f,!1),u=w(""),d=v(()=>l.modelValue.filter(e=>e[l.selectedKey]==!0).length),c=v(()=>d.value&&!l.disabled&&(!t.value&&l.searchable||!l.searchable));function p(e){if(l.disabled)return;e[l.selectedKey]=!e[l.selectedKey];const a=e[l.selectedKey]?{selected:[e],deselected:[]}:{selected:[],deselected:[e]};f("update:modelValue",l.modelValue,a)}function $(e){return!e||!l.searchable?l.modelValue:l.modelValue.filter(a=>{if(a[l.labelKey].toLowerCase().includes(e.toLowerCase()))return a})}function b(e,a){l.searchable&&(a==null?void 0:a.source)=="click"?m(!0,a):m(e,a)}return(e,a)=>{const T=q("BCheckbox"),E=q("BSelectContainer");return i(),V(E,{modelValue:r(t),"onUpdate:modelValue":[a[2]||(a[2]=s=>h(t)?t.value=s:null),b],labelValue:e.labelValue,class:"b-select",disabled:e.disabled,required:e.required,"is-error":e.isError,"error-message":e.errorMessage,"info-message":e.infoMessage,absolute:e.absolute,"aria-multiselectable":"true"},g({items:n(()=>[(i(!0),U(L,null,O($(u.value),(s,y)=>(i(),V(G,{"aria-selected":s[e.selectedKey],key:y,disabled:s.disabled,"no-hover":"",class:"flex items-center gap-xxs",onClick:F=>p(s),onKeyup:j(F=>p(s),["space"])},{default:n(()=>[K(T,{modelValue:s[e.selectedKey],class:"pointer-events-none"},null,8,["modelValue"]),o(e.$slots,"item",{item:s,index:y},()=>[x(k(s[e.labelKey]),1)],!0)]),_:2},1032,["aria-selected","disabled","onClick","onKeyup"]))),128))]),default:n(()=>[K(D,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=s=>u.value=s),expanded:r(t),"onUpdate:expanded":[a[1]||(a[1]=s=>h(t)?t.value=s:null),b],disabled:e.disabled,icon:e.icon,items:e.modelValue,searchable:e.searchable},g({status:n(()=>[c.value?o(e.$slots,"status",{key:0,selected:d.value},()=>[o(e.$slots,"status-text",{selected:d.value},()=>[a[3]||(a[3]=B("span",{class:"font-bold"},"Selected",-1))],!0)],!0):!r(t)&&e.searchable||!e.searchable?o(e.$slots,"default",{key:1},void 0,!0):I("",!0)]),_:2},[e.$slots.searchText?{name:"searchText",fn:n(()=>[o(e.$slots,"searchText",{},void 0,!0)]),key:"0"}:void 0]),1032,["modelValue","expanded","disabled","icon","items","searchable"])]),_:2},[c.value?{name:"complement",fn:n(()=>[B("span",z,k(d.value),1)]),key:"0"}:void 0,e.$slots.actions?{name:"actions",fn:n(()=>[o(e.$slots,"actions",{},void 0,!0)]),key:"1"}:void 0]),1032,["modelValue","labelValue","disabled","required","is-error","error-message","info-message","absolute"])}}}),X=R(S,[["__scopeId","data-v-0c101024"]]);S.__docgenInfo={exportName:"default",displayName:"BMultiSelect",description:"",tags:{},props:[{name:"modelValue",required:!0,type:{name:"Array",elements:[{name:"any"}]},defaultValue:{func:!1,value:"undefined"}},{name:"labelValue",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"icon",required:!1,type:{name:"string"}},{name:"expanded",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"undefined"}},{name:"labelKey",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'"label"'}},{name:"selectedKey",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'"selected"'}},{name:"searchable",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"disabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"required",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isError",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"errorMessage",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"infoMessage",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"absolute",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"labelFormatter",required:!1,type:{name:"TSFunctionType"}}],events:[{name:"update:modelValue",type:{names:["Array"],elements:[{name:"any"}]}},{name:"update:expanded",type:{names:["boolean"]}}],slots:[{name:"searchText"},{name:"status",scoped:!0,bindings:[{name:"selected",title:"binding"}]},{name:"status-text",scoped:!0,bindings:[{name:"selected",title:"binding"}]},{name:"default"},{name:"item",scoped:!0,bindings:[{name:"item",title:"binding"},{name:"index",title:"binding"}]},{name:"actions"}],sourceFiles:["/Users/albertoandre/Dropbox/aa-projects/Github/design-system/src/components/BMultiSelect/BMultiSelect.vue"]};export{X as B};
